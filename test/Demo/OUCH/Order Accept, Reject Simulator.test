<?xml version="1.1" encoding="ASCII"?>
<TestUnit:TestContainerType xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ExchangeDictionary="com.esprow.nozomi.dictionary.exchange" xmlns:TestUnit="com.esprow.nozomi.testunit" formatVersion="2.1">
  <test loggingLevel="DEBUG">
    <testCommand xsi:type="TestUnit:CreateMessageReceiverCommand" messageHandlerId="OUCH_Gateway_Receiver" runMode="NONBLOCKING" targetSystemId="Cert" targetHandlerId="OUCH Gateway" autoStart="true" ignoreAdminMessages="false" collectStatistics="false" sendSync="true" override="true" validateMessages="true" disableDictionaryMismatchCheck="false">
      <testCommand xsi:type="TestUnit:CreateEventScenarioCommand" name="Order Book ID correct">
        <testCommand xsi:type="TestUnit:CreatePatternMatcherCommand">
          <testCommand xsi:type="TestUnit:CreateFieldValueCheckCommand" path="StandardHeader.Header[].Message_Type" value="O" fieldType="Char"/>
          <testCommand xsi:type="TestUnit:CreateFieldValueCheckCommand" path="Order_Book_ID" value="123456" fieldType="BigDecimal"/>
        </testCommand>
        <testCommand xsi:type="TestUnit:CreateResponseMessageCommand" messageId="order_accepted">
          <message xsi:type="ExchangeDictionary:ExchangeMessage" name="Order_Accepted" dictionaryName="OUCH" msgType="A">
            <content xsi:type="ExchangeDictionary:ExchangeComponent" name="StandardHeader">
              <content xsi:type="ExchangeDictionary:ExchangeGroup" name="Header">
                <content xsi:type="ExchangeDictionary:ExchangeCharField" name="Message_Type" required="true" stringValue="A" length="1" padding="LEFT"/>
              </content>
              <content xsi:type="ExchangeDictionary:ExchangeGroup" name="SoupBinTCP_Header">
                <content xsi:type="ExchangeDictionary:ExchangeUintField" name="SoupBinTCP_Packet_Length" required="true" length="2" padding="LEFT"/>
                <content xsi:type="ExchangeDictionary:ExchangeCharField" name="SoupBinTCP_Packet_Type" required="true" length="1" offset="2" padding="LEFT"/>
              </content>
            </content>
            <content xsi:type="ExchangeDictionary:ExchangeUintField" name="Timestamp" required="true" stringValue="1457343671625015005" length="8" offset="1" padding="LEFT"/>
            <content xsi:type="ExchangeDictionary:ExchangeStringField" name="Order_Token" required="true" stringValue="MNO01" length="14" offset="9" padding="RIGHT" paddingChar="32"/>
            <content xsi:type="ExchangeDictionary:ExchangeUintField" name="Order_Book_ID" required="true" stringValue="123456" length="4" offset="23" padding="LEFT"/>
            <content xsi:type="ExchangeDictionary:ExchangeCharField" name="Side" required="true" stringValue="B" length="1" offset="27" padding="LEFT"/>
            <content xsi:type="ExchangeDictionary:ExchangeUintField" name="Order_ID" required="true" stringValue="6676164789162586671" length="8" offset="28" padding="LEFT"/>
            <content xsi:type="ExchangeDictionary:ExchangeUintField" name="Quantity" required="true" stringValue="10" length="8" offset="36" padding="LEFT"/>
            <content xsi:type="ExchangeDictionary:ExchangeIntField" name="Price" required="true" stringValue="16500" length="4" offset="44" padding="LEFT"/>
            <content xsi:type="ExchangeDictionary:ExchangeUintField" name="Time_In_Force" required="true" stringValue="0" length="1" offset="48" padding="LEFT"/>
            <content xsi:type="ExchangeDictionary:ExchangeUintField" name="Open_Close" required="true" stringValue="0" length="1" offset="49" padding="LEFT"/>
            <content xsi:type="ExchangeDictionary:ExchangeStringField" name="Client/Account" required="true" stringValue="DEFAULT" length="16" offset="50" padding="RIGHT" paddingChar="32"/>
            <content xsi:type="ExchangeDictionary:ExchangeUintField" name="Order_State" required="true" stringValue="1" length="1" offset="66" padding="LEFT"/>
            <content xsi:type="ExchangeDictionary:ExchangeUbyteArrayField" name="Customer_Info" required="true" stringValue="&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;" length="15" offset="67" padding="LEFT"/>
            <content xsi:type="ExchangeDictionary:ExchangeUbyteArrayField" name="Exchange_Info" required="true" stringValue="&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;" length="32" offset="82" padding="LEFT"/>
            <content xsi:type="ExchangeDictionary:ExchangeUintField" name="Pre_Trade_Quantity" required="true" stringValue="10" length="8" offset="114" padding="LEFT"/>
            <content xsi:type="ExchangeDictionary:ExchangeUintField" name="Display_Quantity" required="true" stringValue="0" length="8" offset="122" padding="LEFT"/>
          </message>
        </testCommand>
      </testCommand>
      <testCommand xsi:type="TestUnit:CreateEventScenarioCommand" name="Order Book ID incorrect">
        <testCommand xsi:type="TestUnit:CreatePatternMatcherCommand" messageId="enter_order">
          <testCommand xsi:type="TestUnit:CreateFieldValueCheckCommand" path="StandardHeader.Header[].Message_Type" value="O" fieldType="Char"/>
          <testCommand xsi:type="TestUnit:CreateFieldValueCheckCommand" path="Order_Book_ID" value="123456" checkType="NOTEQUAL" fieldType="BigDecimal"/>
        </testCommand>
        <testCommand xsi:type="TestUnit:CreateResponseMessageCommand" messageId="order_rejected">
          <message xsi:type="ExchangeDictionary:ExchangeMessage" name="Order_Rejected" dictionaryName="OUCH" msgType="J">
            <content xsi:type="ExchangeDictionary:ExchangeComponent" name="StandardHeader">
              <content xsi:type="ExchangeDictionary:ExchangeGroup" name="Header">
                <content xsi:type="ExchangeDictionary:ExchangeCharField" name="Message_Type" required="true" stringValue="J" length="1" padding="LEFT"/>
              </content>
              <content xsi:type="ExchangeDictionary:ExchangeGroup" name="SoupBinTCP_Header">
                <content xsi:type="ExchangeDictionary:ExchangeUintField" name="SoupBinTCP_Packet_Length" required="true" length="2" padding="LEFT"/>
                <content xsi:type="ExchangeDictionary:ExchangeCharField" name="SoupBinTCP_Packet_Type" required="true" length="1" offset="2" padding="LEFT"/>
              </content>
            </content>
            <content xsi:type="ExchangeDictionary:ExchangeUintField" name="Timestamp" required="true" stringValue="55123546" length="8" offset="1" padding="LEFT"/>
            <content xsi:type="ExchangeDictionary:ExchangeStringField" name="Order_Token" required="true" stringValue="%MESSAGES.enter_order.Order_Token%" length="14" offset="9" padding="RIGHT" paddingChar="32"/>
            <content xsi:type="ExchangeDictionary:ExchangeIntField" name="Reject_Code" required="true" stringValue="1" length="4" offset="23" padding="LEFT"/>
          </message>
        </testCommand>
      </testCommand>
    </testCommand>
  </test>
</TestUnit:TestContainerType>
